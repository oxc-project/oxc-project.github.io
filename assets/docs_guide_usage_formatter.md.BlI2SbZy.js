import{O as e,p as t,u as n}from"./chunks/runtime-core.esm-bundler.CeO79Im5.js";import{t as r}from"./chunks/plugin-vue_export-helper.BGM3yXzE.js";const i=JSON.parse(`{"title":"Formatter (oxfmt)","description":"","frontmatter":{"head":[["meta",{"property":"og:title","content":"Formatter (oxfmt)"}],["meta",{"name":"twitter:title","content":"Formatter (oxfmt)"}],["meta",{"property":"og:description","content":"A collection of high-performance JavaScript tools written in Rust"}],["meta",{"name":"twitter:description","content":"A collection of high-performance JavaScript tools written in Rust"}],["meta",{"property":"og:url","content":"https://oxc.rs/docs/guide/usage/formatter.html"}]]},"headers":[],"relativePath":"docs/guide/usage/formatter.md","filePath":"docs/guide/usage/formatter.md"}`);var a={name:`docs/guide/usage/formatter.md`};function o(r,i,a,o,s,c){return e(),n(`div`,null,[...i[0]||=[t(`<h1 id="formatter-oxfmt" tabindex="-1">Formatter (oxfmt) <a class="header-anchor" href="#formatter-oxfmt" aria-label="Permalink to “Formatter (oxfmt)”">​</a></h1><p>Oxfmt (<code>/oh-eks-for-mat/</code>) is a Prettier-compatible code formatter.</p><div class="info custom-block"><p class="custom-block-title custom-block-title-default">INFO</p><p>Oxfmt is currently a work in progress.</p><p>Please join the discussion!</p><blockquote><p>RFC: Formatter · oxc-project/oxc · Discussion #13608<br><a href="https://github.com/oxc-project/oxc/discussions/13608" target="_blank" rel="noreferrer">https://github.com/oxc-project/oxc/discussions/13608</a></p></blockquote><p>For now, you may use <a href="https://github.com/prettier/prettier/tree/main/packages/plugin-oxc" target="_blank" rel="noreferrer">@prettier/plugin-oxc</a> in prettier to gain some parsing speed.</p></div><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to “Installation”">​</a></h2><p>Run <code>oxfmt</code> directly at the root of your repository:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-28" id="tab-29" checked><label data-title="npm" for="tab-29">npm</label><input type="radio" name="group-28" id="tab-30"><label data-title="pnpm" for="tab-30">pnpm</label><input type="radio" name="group-28" id="tab-31"><label data-title="yarn" for="tab-31">yarn</label><input type="radio" name="group-28" id="tab-32"><label data-title="bun" for="tab-32">bun</label><input type="radio" name="group-28" id="tab-33"><label data-title="deno" for="tab-33">deno</label></div><div class="blocks"><div class="language-sh active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dlx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dlx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bunx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">deno</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm:oxfmt@latest</span></span></code></pre></div></div></div><p>Or save it to your package.json:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-38" id="tab-39" checked><label data-title="npm" for="tab-39">npm</label><input type="radio" name="group-38" id="tab-40"><label data-title="pnpm" for="tab-40">pnpm</label><input type="radio" name="group-38" id="tab-41"><label data-title="yarn" for="tab-41">yarn</label><input type="radio" name="group-38" id="tab-42"><label data-title="bun" for="tab-42">bun</label></div><div class="blocks"><div class="language-sh active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxfmt</span></span></code></pre></div></div></div><h2 id="command-line-interface" tabindex="-1">Command-line Interface <a class="header-anchor" href="#command-line-interface" aria-label="Permalink to “Command-line Interface”">​</a></h2><p><code>oxfmt</code> works like <code>prettier --write .</code> by default.</p><p>Formatting config options like <code>--no-semi</code> are not supported via CLI flags, we recommend setting these via the configuration file instead. This will ensure that the CLI and editor integrations always use the same settings.</p><p>Globs in positional paths are not expanded. (You can rely on your shell.) But <code>!</code>-prefixed exclude paths do support glob expansion.</p><p>See more details in the <a href="./formatter/cli.html">CLI reference</a>.</p><h2 id="configuration-file" tabindex="-1">Configuration file <a class="header-anchor" href="#configuration-file" aria-label="Permalink to “Configuration file”">​</a></h2><p>By default, <code>oxfmt</code> automatically tries to find the nearest <code>.oxfmtrc.json</code> or <code>.oxfmtrc.jsonc</code> file from the current working directory. If not found, the default configuration options are used.</p><p>You can also specify your config file with the <code>-c yourconfig.jsonc</code> flag.</p><p>Almost all formatting options are compatible with Prettier&#39;s <a href="https://prettier.io/docs/options" target="_blank" rel="noreferrer">options</a>. So you can migrate from Prettier by simply renaming <code>.prettierrc.json</code> to <code>.oxfmtrc.jsonc</code>.</p><p>We also recommend adding the <code>$schema</code> to the config file after copying it:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;$schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./node_modules/oxfmt/configuration_schema.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>You can see the full JSON schema for the config file here:</p><blockquote><p><a href="https://github.com/oxc-project/oxc/blob/main/npm/oxfmt/configuration_schema.json" target="_blank" rel="noreferrer">https://github.com/oxc-project/oxc/blob/main/npm/oxfmt/configuration_schema.json</a></p></blockquote><h2 id="ignore-file" tabindex="-1">Ignore file <a class="header-anchor" href="#ignore-file" aria-label="Permalink to “Ignore file”">​</a></h2><p>By default, <code>oxfmt</code> automatically finds the <code>.gitignore</code> and <code>.prettierignore</code> files from the current working directory.</p><p>Also you can specify your ignore file by <code>--ignore-path your.ignore</code> flag.</p><p>VCS directories like <code>.git</code> and <code>.svn</code> are always ignored. Also global and nested ignores are not respected.</p><p>In addition, <code>.oxfmtrc.json(c)</code> supports an <code>ignorePatterns</code> field.</p><h2 id="pre-commit-hook" tabindex="-1">Pre-commit hook <a class="header-anchor" href="#pre-commit-hook" aria-label="Permalink to “Pre-commit hook”">​</a></h2><p>If you want to auto-format staged files with oxfmt in a git pre-commit hook, you can use <code>oxfmt --no-error-on-unmatched-pattern</code>.</p><p>This command is equivalent to <code>prettier --no-error-on-unmatched-pattern --write</code>, and will format all matched files that are supported by oxfmt. The <code>--no-error-on-unmatched-pattern</code> flag ensures that oxfmt will not raise errors if there are no supported files passed into the command by your pre-commit hook tool (e.g. only Ruby files are staged).</p><p>You can also pass <code>--check</code> to only <em>check</em> the formatting of files, and bail if any files are incorrectly formatted.</p><p>If you are using a pre-commit hook via husky/lint-staged, you can run oxfmt with it by updating your package.json like so:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lint-staged&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;oxfmt --no-error-on-unmatched-pattern&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><h2 id="faqs" tabindex="-1">FAQs <a class="header-anchor" href="#faqs" aria-label="Permalink to “FAQs”">​</a></h2><h3 id="what-kinds-of-files-are-supported" tabindex="-1">What kinds of files are supported? <a class="header-anchor" href="#what-kinds-of-files-are-supported" aria-label="Permalink to “What kinds of files are supported?”">​</a></h3><p>Currently, only JavaScript and TypeScript files are supported (using all common JS/TS extensions and filenames, including <code>.js</code>, <code>.jsx</code>, <code>.ts</code>, <code>.mjs</code>, etc.). JSX is always available in JS files, but for TypeScript, the <code>.tsx</code> extension is required to use JSX syntax.</p><p>Embedded parts like CSS-in-JS have experimental partial support. By specifying <code>embeddedLanguageFormatting: auto</code>, non-substitution templates will be formatted.</p><h3 id="what-is-the-compatibility-with-prettier" tabindex="-1">What is the compatibility with Prettier? <a class="header-anchor" href="#what-is-the-compatibility-with-prettier" aria-label="Permalink to “What is the compatibility with Prettier?”">​</a></h3><p>We&#39;re following the <code>main</code> branch of Prettier, not the <code>latest</code> release.</p><p>For other differences, please see this discussion.</p><blockquote><p><code>Oxfmt</code> differences with <code>Prettier</code> · oxc-project/oxc · Discussion #14669<br><a href="https://github.com/oxc-project/oxc/discussions/14669" target="_blank" rel="noreferrer">https://github.com/oxc-project/oxc/discussions/14669</a></p></blockquote><h3 id="are-there-any-limitations-for-configuration" tabindex="-1">Are there any limitations for configuration? <a class="header-anchor" href="#are-there-any-limitations-for-configuration" aria-label="Permalink to “Are there any limitations for configuration?”">​</a></h3><p>The following are NOT currently supported:</p><ul><li><code>prettier</code> field in <code>package.json</code></li><li>File formats other than <code>.json(c)</code></li><li>Nested configs in sub directories</li><li><code>override</code> field</li><li>Respect <code>.editorconfig</code></li><li><code>experimentalTernaries</code> and <code>experimentalOperatorPosition</code> option</li></ul><p>Also, if <code>printWidth</code> is not specified, its default value is <code>100</code>. This differs from Prettier&#39;s default.</p><h3 id="are-prettier-plugins-supported" tabindex="-1">Are Prettier plugins supported? <a class="header-anchor" href="#are-prettier-plugins-supported" aria-label="Permalink to “Are Prettier plugins supported?”">​</a></h3><p>Currently, they are not supported.</p><p>For import sorting functionality, we provide experimental behavior based on <code>eslint-plugin-perfectionist/sort-imports</code> through the <code>experimentalSortImports</code> configuration option.</p><h3 id="how-does-editor-integration-work" tabindex="-1">How does editor integration work? <a class="header-anchor" href="#how-does-editor-integration-work" aria-label="Permalink to “How does editor integration work?”">​</a></h3><p>By running <code>oxfmt --lsp</code>, you can start a language server that responds to <code>textDocument/formatting</code> requests.</p><p>Formatting via stdin and stdout are not supported, but we have confirmed that some editors and extensions can work with the CLI by configuring them to use temporary files.</p><p>Oxc VS Code extension is also available.</p><p>However, both methods have some limitations, such as not supporting formatting of embedded parts.</p>`,52)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};