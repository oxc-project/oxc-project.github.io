import{O as e,p as t,u as n}from"./chunks/runtime-core.esm-bundler.C3Ubc8nv.js";import{t as r}from"./chunks/plugin-vue_export-helper.LgwMnUW0.js";const i=JSON.parse(`{"title":"Type-Aware Linting","description":"","frontmatter":{"head":[["meta",{"property":"og:title","content":"Type-Aware Linting"}],["meta",{"name":"twitter:title","content":"Type-Aware Linting"}],["meta",{"property":"og:description","content":"A collection of high-performance JavaScript tools written in Rust"}],["meta",{"name":"twitter:description","content":"A collection of high-performance JavaScript tools written in Rust"}],["meta",{"property":"og:url","content":"https://oxc.rs/docs/guide/usage/linter/type-aware.html"}]]},"headers":[],"relativePath":"docs/guide/usage/linter/type-aware.md","filePath":"docs/guide/usage/linter/type-aware.md"}`);var a={name:`docs/guide/usage/linter/type-aware.md`};function o(r,i,a,o,s,c){return e(),n(`div`,null,[...i[0]||=[t(`<h1 id="type-aware-linting" tabindex="-1">Type-Aware Linting <a class="header-anchor" href="#type-aware-linting" aria-label="Permalink to “Type-Aware Linting”">​</a></h1><p>Read our <a href="/blog/2025-08-17-oxlint-type-aware.html">technical preview announcement</a> and <a href="/blog/2025-12-08-type-aware-alpha.html">alpha announcement</a> for background details, and the rationale for the architecture we have chosen for type-aware linting.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to “Installation”">​</a></h2><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-9" id="tab-10" checked><label data-title="npm" for="tab-10">npm</label><input type="radio" name="group-9" id="tab-11"><label data-title="pnpm" for="tab-11">pnpm</label><input type="radio" name="group-9" id="tab-12"><label data-title="yarn" for="tab-12">yarn</label><input type="radio" name="group-9" id="tab-13"><label data-title="bun" for="tab-13">bun</label></div><div class="blocks"><div class="language-sh active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div></div></div><p>Run <code>oxlint</code> with <code>--type-aware</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span></span></code></pre></div><h2 id="unimplemented-rules" tabindex="-1">Unimplemented Rules <a class="header-anchor" href="#unimplemented-rules" aria-label="Permalink to “Unimplemented Rules”">​</a></h2><p>See <a href="https://github.com/oxc-project/tsgolint/issues/104" target="_blank" rel="noreferrer">https://github.com/oxc-project/tsgolint/issues/104</a></p><h2 id="supported-rules" tabindex="-1">Supported Rules <a class="header-anchor" href="#supported-rules" aria-label="Permalink to “Supported Rules”">​</a></h2><p>List of supported rules:</p><ul><li><a href="/docs/guide/usage/linter/rules/typescript/await-thenable.html">typescript/await-thenable</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-array-delete.html">typescript/no-array-delete</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-base-to-string.html">typescript/no-base-to-string</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-confusing-void-expression.html">typescript/no-confusing-void-expression</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-deprecated.html">typescript/no-deprecated</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-duplicate-type-constituents.html">typescript/no-duplicate-type-constituents</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-floating-promises.html">typescript/no-floating-promises</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-for-in-array.html">typescript/no-for-in-array</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-implied-eval.html">typescript/no-implied-eval</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-meaningless-void-operator.html">typescript/no-meaningless-void-operator</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-misused-promises.html">typescript/no-misused-promises</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-misused-spread.html">typescript/no-misused-spread</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-mixed-enums.html">typescript/no-mixed-enums</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-redundant-type-constituents.html">typescript/no-redundant-type-constituents</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unnecessary-boolean-literal-compare.html">typescript/no-unnecessary-boolean-literal-compare</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unnecessary-template-expression.html">typescript/no-unnecessary-template-expression</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unnecessary-type-arguments.html">typescript/no-unnecessary-type-arguments</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unnecessary-type-assertion.html">typescript/no-unnecessary-type-assertion</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-argument.html">typescript/no-unsafe-argument</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-assignment.html">typescript/no-unsafe-assignment</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-call.html">typescript/no-unsafe-call</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-enum-comparison.html">typescript/no-unsafe-enum-comparison</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-member-access.html">typescript/no-unsafe-member-access</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-return.html">typescript/no-unsafe-return</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-type-assertion.html">typescript/no-unsafe-type-assertion</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/no-unsafe-unary-minus.html">typescript/no-unsafe-unary-minus</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/non-nullable-type-assertion-style.html">typescript/non-nullable-type-assertion-style</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/only-throw-error.html">typescript/only-throw-error</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/prefer-includes.html">typescript/prefer-includes</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/prefer-nullish-coalescing.html">typescript/prefer-nullish-coalescing</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/prefer-promise-reject-errors.html">typescript/prefer-promise-reject-errors</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/prefer-reduce-type-parameter.html">typescript/prefer-reduce-type-parameter</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/prefer-return-this-type.html">typescript/prefer-return-this-type</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/promise-function-async.html">typescript/promise-function-async</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/related-getter-setter-pairs.html">typescript/related-getter-setter-pairs</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/require-array-sort-compare.html">typescript/require-array-sort-compare</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/require-await.html">typescript/require-await</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/restrict-plus-operands.html">typescript/restrict-plus-operands</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/restrict-template-expressions.html">typescript/restrict-template-expressions</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/return-await.html">typescript/return-await</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/strict-boolean-expressions.html">typescript/strict-boolean-expressions</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/switch-exhaustiveness-check.html">typescript/switch-exhaustiveness-check</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/unbound-method.html">typescript/unbound-method</a></li><li><a href="/docs/guide/usage/linter/rules/typescript/use-unknown-in-catch-callback-variable.html">typescript/use-unknown-in-catch-callback-variable</a></li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to “Troubleshooting”">​</a></h2><h3 id="debugging-unexpected-errors" tabindex="-1">Debugging Unexpected Errors <a class="header-anchor" href="#debugging-unexpected-errors" aria-label="Permalink to “Debugging Unexpected Errors”">​</a></h3><p>If you encounter unexpected errors or rules not triggering when expected, types may not be resolving correctly. Run with <code>--type-check</code> to verify that all imports are being resolved:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-check</span></span></code></pre></div><p>This will report TypeScript errors alongside lint diagnostics, helping identify missing or unresolved types.</p><p><strong>Common causes of unresolved types:</strong></p><ul><li><strong>Monorepo with bundler (tsdown, tsup, etc.)</strong>: Pre-build dependent packages so their types are available. For example, if package <code>A</code> depends on package <code>B</code>, build <code>B</code> first so its <code>.d.ts</code> files exist.</li><li><strong>Missing dependencies</strong>: Ensure all dependencies are installed (<code>npm install</code> / <code>pnpm install</code>)</li></ul><h3 id="debugging-slow-performance" tabindex="-1">Debugging Slow Performance <a class="header-anchor" href="#debugging-slow-performance" aria-label="Permalink to “Debugging Slow Performance”">​</a></h3><p>If type-aware linting is running slower than expected:</p><ol><li><p><strong>Update to the latest versions</strong> of both <code>oxlint</code> and <code>oxlint-tsgolint</code></p></li><li><p><strong>Enable debug logging</strong> to see detailed timing information:</p></li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OXC_LOG</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debug</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span></span></code></pre></div><p>Example output (showing key timing milestones):</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>2025/01/01 12:00:00.000000 Starting tsgolint</span></span>
<span class="line"><span>2025/01/01 12:00:00.001000 Starting to assign files to programs. Total files: 259</span></span>
<span class="line"><span>2025/01/01 12:00:01.000000 Done assigning files to programs. Total programs: 8. Unmatched files: 75</span></span>
<span class="line"><span>2025/01/01 12:00:01.001000 Starting linter with 12 workers</span></span>
<span class="line"><span>2025/01/01 12:00:01.001000 Workload distribution: 8 programs</span></span>
<span class="line"><span>2025/01/01 12:00:01.002000 [1/8] Running linter on program: /path/to/project/jsconfig.json</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2025/01/01 12:00:01.100000 [4/8] Running linter on program: /path/to/project/tsconfig.json</span></span>
<span class="line"><span>2025/01/01 12:00:02.500000 Program created with 26140 source files</span></span>
<span class="line"><span>2025/01/01 12:00:14.000000 /path/to/project/oxlint-plugin.mts</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2025/01/01 12:00:14.100000 [5/8] Running linter on program: /path/to/project/apps/tsconfig.json</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2025/01/01 12:00:15.000000 Linting Complete</span></span>
<span class="line"><span>Finished in 16.4s on 259 files with 161 rules using 12 threads.</span></span></code></pre></div><p><strong>How to interpret the log:</strong></p><ul><li><strong>File assignment phase</strong> (<code>Starting to assign files...</code> → <code>Done assigning files...</code>): Maps source files to their tsconfig projects. This phase should be fast. If slow, please file an issue.</li><li><strong>Program linting</strong> (<code>[N/M] Running linter on program...</code>): Each TypeScript project is linted separately. Programs that take significantly longer may indicate expensive type resolution or an overly large project. <ul><li>Look for programs with an unusually high number of source files (e.g., <code>Program created with 26140 source files</code>). This may indicate misconfigured tsconfig <code>includes</code>/<code>excludes</code> pulling in unnecessary files like <code>node_modules</code>.</li><li>Each file path logged indicates when that file is being linted. Large time gaps between files may indicate expensive type resolution for certain files.</li></ul></li></ul><h2 id="typescript-compatibility" tabindex="-1">TypeScript Compatibility <a class="header-anchor" href="#typescript-compatibility" aria-label="Permalink to “TypeScript Compatibility”">​</a></h2><p>tsgolint is based on <a href="https://github.com/microsoft/typescript-go" target="_blank" rel="noreferrer">typescript-go</a> (Microsoft&#39;s TypeScript v7.0 rewrite in Go), not the original TypeScript compiler written in TypeScript.</p><p><strong>Key implications:</strong></p><ul><li>Only TypeScript 7.0+ features are supported</li><li>Pre-7.0 syntax and features (like <code>baseUrl</code> in <code>tsconfig.json</code>) are not supported</li><li>If you&#39;re using deprecated features that were deprecated in TypeScript 6.0 or removed in TypeScript 7.0, you&#39;ll need to migrate your codebase first</li></ul><p>For help migrating deprecated tsconfig options, see the <a href="https://github.com/microsoft/TypeScript/issues/62508#issuecomment-3348649259" target="_blank" rel="noreferrer">TypeScript migration guide</a>.</p><h2 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to “Architecture”">​</a></h2><p>Type-aware linting in Oxlint uses a unique two-binary architecture:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>oxlint CLI (Rust)</span></span>
<span class="line"><span>  ├─ Handles file traversal, ignore logic, and diagnostics</span></span>
<span class="line"><span>  ├─ Runs non-type-aware rules and custom JS plugins</span></span>
<span class="line"><span>  ├─ Passes paths and configuration to tsgolint</span></span>
<span class="line"><span>  └─ Formats and displays results</span></span>
<span class="line"><span></span></span>
<span class="line"><span>tsgolint (Go)</span></span>
<span class="line"><span>  ├─ Uses typescript-go directly for type checking</span></span>
<span class="line"><span>  ├─ Executes type-aware rules</span></span>
<span class="line"><span>  └─ Returns structured diagnostics</span></span></code></pre></div><p>This design keeps Oxlint&#39;s core fast while leveraging TypeScript&#39;s type system through typescript-go. The frontend-backend separation means <code>oxlint</code> controls the user experience while <code>tsgolint</code> handles the heavy lifting of type analysis.</p>`,35)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};