import{O as e,p as t,u as n}from"./chunks/runtime-core.esm-bundler.WcV6up4s.js";import{t as r}from"./chunks/plugin-vue_export-helper.CfxOn-Xc.js";const i=JSON.parse(`{"title":"Type-Aware Linting","description":"Linting with type information.","frontmatter":{"title":"Type-Aware Linting","description":"Linting with type information.","head":[["meta",{"property":"og:title","content":"Type-Aware Linting"}],["meta",{"name":"twitter:title","content":"Type-Aware Linting"}],["meta",{"property":"og:description","content":"Linting with type information."}],["meta",{"name":"twitter:description","content":"Linting with type information."}],["meta",{"property":"og:url","content":"https://oxc.rs/docs/guide/usage/linter/type-aware.html"}]]},"headers":[],"relativePath":"docs/guide/usage/linter/type-aware.md","filePath":"docs/guide/usage/linter/type-aware.md"}`);var a={name:`docs/guide/usage/linter/type-aware.md`};function o(r,i,a,o,s,c){return e(),n(`div`,null,[...i[0]||=[t(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /docs/guide/usage/linter/type-aware.md for this page in Markdown format</div><h1 id="type-aware-linting" tabindex="-1">Type-Aware Linting <a class="header-anchor" href="#type-aware-linting" aria-label="Permalink to “Type-Aware Linting”">​</a></h1><p>Type-aware linting enables rules that rely on TypeScript’s type system, such as detecting unhandled promises or unsafe assignments. In Oxlint, type-aware linting is provided by <a href="https://github.com/oxc-project/tsgolint" target="_blank" rel="noreferrer"><code>tsgolint</code></a> and integrated into the Oxlint CLI and configuration system.</p><p>This feature is currently <strong>alpha</strong>. Rule coverage, performance, and compatibility continue to improve.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to “Overview”">​</a></h2><p>Oxlint separates responsibilities between two components:</p><ul><li><p><strong>Oxlint (Rust)</strong> Handles file traversal, ignore logic, configuration, non-type-aware rules, and reporting.</p></li><li><p><strong>tsgolint (Go)</strong> Builds TypeScript programs using <a href="https://github.com/microsoft/typescript-go" target="_blank" rel="noreferrer"><code>typescript-go</code></a> and executes type-aware rules, returning structured diagnostics to Oxlint.</p></li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to “Installation”">​</a></h2><p>Type-aware linting requires an additional dependency:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-34" id="tab-35" checked><label data-title="npm" for="tab-35">npm</label><input type="radio" name="group-34" id="tab-36"><label data-title="pnpm" for="tab-36">pnpm</label><input type="radio" name="group-34" id="tab-37"><label data-title="yarn" for="tab-37">yarn</label><input type="radio" name="group-34" id="tab-38"><label data-title="bun" for="tab-38">bun</label></div><div class="blocks"><div class="language-sh active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint-tsgolint@latest</span></span></code></pre></div></div></div><h2 id="running-type-aware-linting" tabindex="-1">Running type-aware linting <a class="header-anchor" href="#running-type-aware-linting" aria-label="Permalink to “Running type-aware linting”">​</a></h2><p>Enable type-aware linting with the <code>--type-aware</code> flag:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span></span></code></pre></div><p>When enabled, Oxlint runs standard rules and type-aware rules in the <code>typescript/*</code> namespace.</p><p>Type-aware linting is opt-in and does not run unless the flag is provided.</p><h3 id="monorepos-and-build-outputs" tabindex="-1">Monorepos and build outputs <a class="header-anchor" href="#monorepos-and-build-outputs" aria-label="Permalink to “Monorepos and build outputs”">​</a></h3><p>Type-aware linting requires resolved type information.</p><p>In monorepos:</p><ul><li>Build dependent packages so <code>.d.ts</code> files are available</li><li>Ensure dependencies are installed before running</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span></span></code></pre></div><h3 id="type-checking-diagnostics" tabindex="-1">Type checking diagnostics <a class="header-anchor" href="#type-checking-diagnostics" aria-label="Permalink to “Type checking diagnostics”">​</a></h3><p>Enable type checking to report TypeScript errors alongside lint results:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-check</span></span></code></pre></div><p>This mode can replace a separate <code>tsc --noEmit</code> step in CI:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># before</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tsc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --noEmit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># after</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-check</span></span></code></pre></div><h2 id="configuring-type-aware-rules" tabindex="-1">Configuring type-aware rules <a class="header-anchor" href="#configuring-type-aware-rules" aria-label="Permalink to “Configuring type-aware rules”">​</a></h2><p>Type-aware rules are configured like other Oxlint rules.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;typescript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;rules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;typescript/no-floating-promises&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;typescript/no-unsafe-assignment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;warn&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Rules support the same options as their <code>typescript-eslint</code> equivalents.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;typescript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;rules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;typescript/no-floating-promises&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;ignoreVoid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="disable-comments" tabindex="-1">Disable comments <a class="header-anchor" href="#disable-comments" aria-label="Permalink to “Disable comments”">​</a></h2><p>Type-aware rules support inline disable comments:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// oxlint-disable-next-line typescript/no-floating-promises</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doSomethingAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>Report unused disable comments with:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --report-unused-disable-directives</span></span></code></pre></div><h2 id="typescript-compatibility" tabindex="-1">TypeScript compatibility <a class="header-anchor" href="#typescript-compatibility" aria-label="Permalink to “TypeScript compatibility”">​</a></h2><p>Type-aware linting is powered by <code>typescript-go</code>.</p><ul><li>TypeScript <strong>7.0+</strong> is required</li><li>Some legacy <code>tsconfig</code> options are not supported</li><li>Invalid options are reported when <code>--type-check</code> is enabled</li></ul><h2 id="stability-notes" tabindex="-1">Stability notes <a class="header-anchor" href="#stability-notes" aria-label="Permalink to “Stability notes”">​</a></h2><p>Type-aware linting is <strong>alpha</strong>:</p><ul><li>Rule coverage is incomplete</li><li>Very large codebases may encounter high memory usage</li><li>Performance continues to improve</li></ul><h2 id="performance-and-debugging" tabindex="-1">Performance and debugging <a class="header-anchor" href="#performance-and-debugging" aria-label="Permalink to “Performance and debugging”">​</a></h2><p>If type-aware linting is slow or uses excessive memory:</p><ol><li>Update both tools:</li></ol><ul><li><code>oxlint</code></li><li><code>oxlint-tsgolint</code></li></ul><ol start="2"><li>Enable debug logging:</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OXC_LOG</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">debug</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type-aware</span></span></code></pre></div><p>Example output (showing key timing milestones):</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>2025/01/01 12:00:00.000000 Starting tsgolint</span></span>
<span class="line"><span>2025/01/01 12:00:00.001000 Starting to assign files to programs. Total files: 259</span></span>
<span class="line"><span>2025/01/01 12:00:01.000000 Done assigning files to programs. Total programs: 8. Unmatched files: 75</span></span>
<span class="line"><span>2025/01/01 12:00:01.001000 Starting linter with 12 workers</span></span>
<span class="line"><span>2025/01/01 12:00:01.001000 Workload distribution: 8 programs</span></span>
<span class="line"><span>2025/01/01 12:00:01.002000 [1/8] Running linter on program: /path/to/project/jsconfig.json</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2025/01/01 12:00:01.100000 [4/8] Running linter on program: /path/to/project/tsconfig.json</span></span>
<span class="line"><span>2025/01/01 12:00:02.500000 Program created with 26140 source files</span></span>
<span class="line"><span>2025/01/01 12:00:14.000000 /path/to/project/oxlint-plugin.mts</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2025/01/01 12:00:14.100000 [5/8] Running linter on program: /path/to/project/apps/tsconfig.json</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2025/01/01 12:00:15.000000 Linting Complete</span></span>
<span class="line"><span>Finished in 16.4s on 259 files with 161 rules using 12 threads.</span></span></code></pre></div><p><strong>How to interpret the log:</strong></p><ul><li><strong>File assignment phase</strong> (<code>Starting to assign files...</code> → <code>Done assigning files...</code>): Maps source files to their tsconfig projects. This phase should be fast. If slow, please file an issue.</li><li><strong>Program linting</strong> (<code>[N/M] Running linter on program...</code>): Each TypeScript project is linted separately. Programs that take significantly longer may indicate expensive type resolution or an overly large project. <ul><li>Look for programs with an unusually high number of source files (e.g., <code>Program created with 26140 source files</code>). This may indicate misconfigured tsconfig <code>includes</code>/<code>excludes</code> pulling in unnecessary files like <code>node_modules</code>.</li><li>Each file path logged indicates when that file is being linted. Large time gaps between files may indicate expensive type resolution for certain files.</li></ul></li></ul><h2 id="next-steps" tabindex="-1">Next steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to “Next steps”">​</a></h2><ul><li>Check <a href="https://github.com/oxc-project/tsgolint/tree/main?tab=readme-ov-file#implemented-rules" target="_blank" rel="noreferrer">implemented rules</a></li><li>Report issues to <a href="https://github.com/oxc-project/tsgolint" target="_blank" rel="noreferrer">https://github.com/oxc-project/tsgolint</a></li></ul>`,53)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};