import{$ as e,D as t,M as n,V as r,b as i,d as a,f as o,k as s}from"./runtime-core.esm-bundler.C6f3bRgW.js";import{a as c}from"./client.BvhqESD7.js";import{t as l}from"./data.CFoxGhKT.js";import{t as u}from"./preload-helper.PY2j5Wt2.js";var d=!1,f=null;async function p(){return d?!0:f||(f=(async()=>{try{return await u(()=>Promise.resolve({}),[]),d=!0,!0}catch{return console.warn(`[VitePress Theme] @docsearch/css not found. If using Algolia search, install: npm install @docsearch/css @docsearch/js`),!1}})(),f)}async function m(){try{return(await u(()=>import(`./esm.yTYW2PZi.js`),[])).default}catch{return console.error(`[VitePress Theme] @docsearch/js not found. Install: npm install @docsearch/css @docsearch/js`),null}}var h={key:0,id:`docsearch`},g=i({__name:`VPAlgoliaSearchBox`,props:{algolia:{}},setup(i){let u=i,d=c(),{site:f,localeIndex:g,lang:_}=l(),v=e(!0),y=e(!1),b=null;s(async()=>{if(!await p()){y.value=!0,v.value=!1;return}if(b=await m(),!b){y.value=!0,v.value=!1;return}v.value=!1,x()}),r(g,()=>{!v.value&&!y.value&&x()});async function x(){if(!b)return;await t();let e={...u.algolia,...u.algolia.locales?.[g.value]},n=e.searchParameters?.facetFilters??[],r=[...(Array.isArray(n)?n:[n]).filter(e=>!e.startsWith(`lang:`)),`lang:${_.value}`],i=e.askAi,a=typeof i==`string`,o=i?{indexName:a?e.indexName:i.indexName,apiKey:a?e.apiKey:i.apiKey,appId:a?e.appId:i.appId,assistantId:a?i:i.assistantId,searchParameters:r.length?{facetFilters:r}:void 0}:void 0;S({...e,searchParameters:{...e.searchParameters,facetFilters:r},askAi:o})}function S(e){if(!b){console.error(`[VitePress Theme] DocSearch not loaded`);return}try{let t=Object.assign({},e,{container:`#docsearch`,navigator:{navigate(e){d.go(e.itemUrl)}},transformItems(e){return e.map(e=>Object.assign({},e,{url:C(e.url)}))}});b(t)}catch(e){console.error(`[VitePress Theme] Failed to initialize DocSearch:`,e),y.value=!0}}function C(e){let{pathname:t,hash:n}=new URL(e,location.origin);return t.replace(/\.html$/,f.value.cleanUrls?``:`.html`)+n}return(e,t)=>y.value?a(``,!0):(n(),o(`div`,h))}});export{g as default};