import{M as e,O as t,h as n,p as r,u as i}from"./chunks/runtime-core.esm-bundler.v0wh04sL.js";import{t as a}from"./chunks/plugin-vue_export-helper.7OjxSBk2.js";const o=JSON.parse(`{"title":"Oxc Minifier Alpha","description":"","frontmatter":{"title":"Oxc Minifier Alpha","outline":"deep","authors":["boshen"],"head":[["meta",{"property":"og:title","content":"Oxc Minifier Alpha"}],["meta",{"name":"twitter:title","content":"Oxc Minifier Alpha"}],["meta",{"property":"og:description","content":"A collection of high-performance JavaScript tools written in Rust"}],["meta",{"name":"twitter:description","content":"A collection of high-performance JavaScript tools written in Rust"}],["meta",{"property":"og:url","content":"https://oxc.rs/blog/2025-03-13-minifier-alpha.html"}]]},"headers":[],"relativePath":"blog/2025-03-13-minifier-alpha.md","filePath":"blog/2025-03-13-minifier-alpha.md"}`);var s={name:`blog/2025-03-13-minifier-alpha.md`};function c(a,o,s,c,l,u){let d=e(`AppBlogPostHeader`);return t(),i(`div`,null,[n(d),o[0]||=r(`<br><p>We are excited to announce an alpha release for <a href="https://www.npmjs.com/package/oxc-minify" target="_blank" rel="noreferrer"><code>oxc-minify</code></a>.</p><p>While lacking some advanced minification techniques, the current version already outperforms <code>esbuild</code> in terms of performance and compression size, as demonstrated by <a href="https://github.com/privatenumber/minification-benchmarks" target="_blank" rel="noreferrer">minification-benchmarks</a>.</p><p>Comparing widely-used minifiers on <code>typescript.js</code>:</p><div align="center"><table tabindex="0"><thead><tr><th style="text-align:left;">Artifact</th><th style="text-align:right;">Original size</th><th style="text-align:right;">Gzip size</th><th style="text-align:right;"></th></tr></thead><tbody><tr><td style="text-align:left;"><a href="https://www.npmjs.com/package/typescript/v/4.9.5" target="_blank" rel="noreferrer">typescript v4.9.5</a> (<a href="https://unpkg.com/typescript@4.9.5/lib/typescript.js" target="_blank" rel="noreferrer">Source</a>)</td><td style="text-align:right;"><code>10.95 MB</code></td><td style="text-align:right;"><code>1.88 MB</code></td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;"><strong>Minifier</strong></td><td style="text-align:right;"><strong>Minified size</strong></td><td style="text-align:right;"><strong>Minzipped size</strong></td><td style="text-align:right;"><strong>Time</strong></td></tr><tr><td style="text-align:left;"><a href="packages/minifiers/minifiers/swc.ts">@swc/core</a></td><td style="text-align:right;"><strong><sup>üèÜ-70% </sup><code>3.32 MB</code></strong></td><td style="text-align:right;"><strong><sup>üèÜ-54% </sup><code>858.29 kB</code></strong></td><td style="text-align:right;"><sup><em>5x</em></sup><code>2,179 ms</code></td></tr><tr><td style="text-align:left;"><a href="packages/minifiers/minifiers/oxc-minify.ts">oxc-minify</a></td><td style="text-align:right;"><sup>-69% </sup><code>3.35 MB</code></td><td style="text-align:right;"><sup>-54% </sup><code>860.67 kB</code></td><td style="text-align:right;">üèÜ <code>444 ms</code></td></tr><tr><td style="text-align:left;"><a href="packages/minifiers/minifiers/terser.ts">terser (no compress)</a></td><td style="text-align:right;"><sup>-68% </sup><code>3.53 MB</code></td><td style="text-align:right;"><sup>-53% </sup><code>879.30 kB</code></td><td style="text-align:right;"><sup><em>14x</em></sup><code>6,433 ms</code></td></tr><tr><td style="text-align:left;"><a href="packages/minifiers/minifiers/esbuild.ts">esbuild</a></td><td style="text-align:right;"><sup>-68% </sup><code>3.49 MB</code></td><td style="text-align:right;"><sup>-51% </sup><code>915.55 kB</code></td><td style="text-align:right;"><sup><em>1x</em></sup><code>492 ms</code></td></tr><tr><td style="text-align:left;"><a href="packages/minifiers/minifiers/terser.ts">terser</a> <sub title="Failed: timeout">‚ùå Timed out</sub></td><td style="text-align:right;">-</td><td style="text-align:right;">-</td><td style="text-align:right;"><sup>‚ö†Ô∏è</sup> <code>+10,000 ms</code></td></tr></tbody></table></div><h2 id="oxc-minify-usage-example" tabindex="-1"><a href="https://www.npmjs.com/package/oxc-minify" target="_blank" rel="noreferrer"><code>oxc-minify</code></a> Usage Example <a class="header-anchor" href="#oxc-minify-usage-example" aria-label="Permalink to ‚Äúoxc-minify Usage Example‚Äù">‚Äã</a></h2><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { minify } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;oxc-minify&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;test.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;const x = &#39;a&#39; + &#39;b&#39;; console.log(x);&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  compress: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esnext&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  mangle: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    toplevel: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  codegen: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    removeWhitespace: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sourcemap: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> minify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filename, code, options);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.code);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.map);</span></span></code></pre></div><h2 id="next-release" tabindex="-1">Next Release <a class="header-anchor" href="#next-release" aria-label="Permalink to ‚ÄúNext Release‚Äù">‚Äã</a></h2><p><code>oxc-minify</code> is being integrated into <a href="https://rolldown.rs" target="_blank" rel="noreferrer">Rolldown</a> as its built-in minifier, and Rolldown is set to <a href="https://voidzero.dev/posts/announcing-voidzero-inc" target="_blank" rel="noreferrer">become the future of Vite</a>.</p><p>So it is critical for us to:</p><ul><li>Continue implementing advanced minification techniques, such as constant inlining and dead code removal.</li><li>Strengthen and expand our test infrastructure to ensure it is production-ready.</li></ul><h2 id="acknowledgements" tabindex="-1">Acknowledgements <a class="header-anchor" href="#acknowledgements" aria-label="Permalink to ‚ÄúAcknowledgements‚Äù">‚Äã</a></h2><p>Thank you <a href="https://github.com/sapphi-red" target="_blank" rel="noreferrer">@sapphi-red</a> for improving the minifier, especially the advanced symbol minification algorithm which <code>esbuild</code> lacks.</p>`,13)])}var l=a(s,[[`render`,c]]);export{o as __pageData,l as default};